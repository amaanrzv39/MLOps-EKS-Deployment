schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ops/data_ingestion.py
    deps:
    - path: src/data_ops/data_ingestion.py
      hash: md5
      md5: 29509da11e9e7d6e9a43e64c18381538
      size: 3187
    params:
      params.yaml:
        data_ingestion.test_size: 0.25
    outs:
    - path: data/raw
      hash: md5
      md5: 6f0d74b5ff3c8f68804e650044a9660a.dir
      size: 1320253
      nfiles: 2
  data_transformation:
    cmd: python src/data_ops/data_transformation.py
    deps:
    - path: data/raw
      hash: md5
      md5: 6f0d74b5ff3c8f68804e650044a9660a.dir
      size: 1320253
      nfiles: 2
    - path: src/data_ops/data_transformation.py
      hash: md5
      md5: c86fdf71eb55cab5c4fbf6882d18091b
      size: 2826
    outs:
    - path: data/interim
      hash: md5
      md5: e826c2cd8dc6d76992a2a08a07ce6f0b.dir
      size: 815458
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/interim
      hash: md5
      md5: e826c2cd8dc6d76992a2a08a07ce6f0b.dir
      size: 815458
      nfiles: 2
    - path: src/features/feature_engineering.py
      hash: md5
      md5: c1e9ac62f2a96b3be93c1afc49eaf5ee
      size: 3350
    params:
      params.yaml:
        feature_engineering.max_features: 50
    outs:
    - path: data/processed
      hash: md5
      md5: f2adf8039cac4390b1eed6ab36797106.dir
      size: 102498
      nfiles: 2
    - path: models/vectorizer.pkl
      hash: md5
      md5: 00494c4c607c3cec4dc2bc3da6ce77b0
      size: 1858
  model_training:
    cmd: python src/model/model_training.py
    deps:
    - path: data/processed
      hash: md5
      md5: f2adf8039cac4390b1eed6ab36797106.dir
      size: 102498
      nfiles: 2
    - path: src/model/model_training.py
      hash: md5
      md5: 4566a2477507bc4f33421061d020b1d9
      size: 3073
    params:
      params.yaml:
        model_training.clf: logistic_regression
        model_training.hyperparameters:
          xgboost:
            n_estimators: 100
            learning_rate: 0.1
            max_depth: 6
            subsample: 0.8
            colsample_bytree: 0.8
            random_state: 42
          random_forest:
            n_estimators: 100
            max_depth: 10
            min_samples_split: 2
            min_samples_leaf: 1
            random_state: 42
          logistic_regression:
            penalty: l2
            C: 1.0
          MultinomialNB:
            alpha: 1.0
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 36b37444a3a95c1e67d36f4d85705e73
      size: 1098
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: models/model.pkl
      hash: md5
      md5: 36b37444a3a95c1e67d36f4d85705e73
      size: 1098
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 595c7cd2fc6c2f34256b36d7876f1048
      size: 4758
    outs:
    - path: reports/experiment_info.json
      hash: md5
      md5: 57d054f5482fbe4bc967ece4b0230817
      size: 79
    - path: reports/metrics.json
      hash: md5
      md5: d4c278f551bf21dff62a80463f62910d
      size: 126
  model_registration:
    cmd: python src/model/register_model.py
    deps:
    - path: reports/experiment_info.json
      hash: md5
      md5: 7618f7a3179deaf4c4930b7fb86b846f
      size: 79
    - path: src/model/register_model.py
      hash: md5
      md5: 201cc65d2f81752e5f05f321ad329eb6
      size: 3059
